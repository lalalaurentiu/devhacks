
{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>
    <title>Document</title>

    <style>
        .card{
            border-radius: 0;
        }
    </style>
</head>
<body class="bg-light">
    <nav class="navbar navbar-expand-lg" style="background-color: #efefef;">
        <div class="container-fluid">
            <div>
                <img src="{% static 'images/Link_app.png'%}" alt="" width="100px" height="100px">
            </div>
            
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse d-flex justify-content-center" id="navbarNav">
            <ul class="navbar-nav">
              <li class="nav-item">
                <a class="nav-link active" aria-current="page" href="#">Home</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">Groups</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">Contact</a>
              </li>
            </ul>
          </div>
        </div>
      </nav>
      <div class="container">
        <div class="row">
          <!-- <div class="col-4">
              <div style="background-image: url('https://upload.wikimedia.org/wikipedia/commons/thumb/a/ac/No_image_available.svg/1200px-No_image_available.svg.png');background-size: 100px 200px;background-repeat: no-repeat;">
              </div>
          </div> -->
            
              <div class="col-12">
                <div class="card w-100 my-2"  style="border-top-left-radius: 10px;border-top-right-radius: 10px;" >
                  <div class="card-body d-flex justify-content-center">
                      {% for link in links %}
                      <div>
                          <a href="/{{ link.pacient.slug }}/{{link.get_date}}" class="card-link link-dark d-flex justify-content-center">
                              {% if link.location == 'home'%}
                              <img src="{% static 'images/home.png'%}" alt="" width="50px" height="50px">
                              {% else %}
                              <img src="{% static 'images/Doctor.png'%}" alt="" width="50px" height="50px">
                              {% endif %}
                          </a>
                            <div class="d-flex justify-content-center">
                              <a href="" style="width: 20px; height:20px; border-radius:50%;border:1px solid black;"></a>
                            </div>
                          <p class="card-text" style="font-size: small;">{{ link.date }}</p>
                      </div>
                      {% endfor %}
                  </div>
                </div>
              </div>
            
        </div>
        
        </div>
        <div style="width:100%;height:10px;background-color:#478a90;">

        </div>
        <div class="container">
          <div class="card w-100 my-2" >
            <div class="card-body">
                {% for exercise in exercises %}
                    {% for ex in exercise.typeofexercise.all %}
                    <div id="imageContainer{{ex.id}}" class="row  my-5">
                        <div class="col-3 d-flex align-items-center justify-content-center images"> 
                            <img id="image{{ex.id}}" src="{{ ex.image.url }}" class="img-thumbnail" alt="..." style="width:200px;height:200px;">
                        </div>
                  
                    <div class="col-6 py-2">
                        <h3 class="card-text fs-6">{{ ex.name }}</h3>
                        <p class="card-text fs-6">{{ ex.description }}</p>
                    </div>
                    <div class="col-3 d-flex align-items-center justify-content-center">
                        <div>

                            <p class="card-text fs-6">{{ exercise.date }}</p>
                        <div class="d-flex justify-content-between" style="color: #478a90;">
                            <svg version="1.1" width="16px" height="16px" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                                viewBox="0 0 58 58" style="enable-background:new 0 0 58 58;" xml:space="preserve" fill="currentColor">
                            <g>
                                <path d="M9.5,43c-2.757,0-5,2.243-5,5s2.243,5,5,5s5-2.243,5-5S12.257,43,9.5,43z"/>
                                <path d="M56.5,35c0-2.495-1.375-3.662-2.715-4.233C54.835,29.85,55.5,28.501,55.5,27c0-2.757-2.243-5-5-5H36.134l0.729-3.41
                                    c0.973-4.549,0.334-9.716,0.116-11.191C36.461,3.906,33.372,0,30.013,0h-0.239C28.178,0,25.5,0.909,25.5,7c0,14.821-6.687,15-7,15
                                    h0h-1v-2h-16v38h16v-2h28c2.757,0,5-2.243,5-5c0-1.164-0.4-2.236-1.069-3.087C51.745,47.476,53.5,45.439,53.5,43
                                    c0-1.164-0.4-2.236-1.069-3.087C54.745,39.476,56.5,37.439,56.5,35z M3.5,56V22h12v34H3.5z"/>
                            </g>
                            </svg>
                            <svg version="1.1" id="Capa_1" width="16px" height="16px" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
                                viewBox="0 0 58 58" style="enable-background:new 0 0 58 58;" xml:space="preserve" fill="currentColor">
                            <g>
                                <path d="M40.5,0v2h-28c-2.757,0-5,2.243-5,5c0,1.164,0.4,2.236,1.069,3.087C6.255,10.524,4.5,12.561,4.5,15
                                    c0,1.164,0.4,2.236,1.069,3.087C3.255,18.524,1.5,20.561,1.5,23c0,2.495,1.375,3.662,2.715,4.233C3.165,28.15,2.5,29.499,2.5,31
                                    c0,2.757,2.243,5,5,5h14.366l-0.729,3.41c-0.973,4.551-0.334,9.717-0.116,11.191C21.539,54.094,24.628,58,27.987,58h0.239
                                    c1.596,0,4.274-0.909,4.274-7c0-14.82,6.686-15,7-15h0h1v2h16V0H40.5z M54.5,36h-12V2h12V36z"/>
                                <path d="M48.5,15c2.757,0,5-2.243,5-5s-2.243-5-5-5s-5,2.243-5,5S45.743,15,48.5,15z"/>
                            </g>
                            </svg>
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chat" viewBox="0 0 16 16">
                                <path d="M2.678 11.894a1 1 0 0 1 .287.801 10.97 10.97 0 0 1-.398 2c1.395-.323 2.247-.697 2.634-.893a1 1 0 0 1 .71-.074A8.06 8.06 0 0 0 8 14c3.996 0 7-2.807 7-6 0-3.192-3.004-6-7-6S1 4.808 1 8c0 1.468.617 2.83 1.678 3.894zm-.493 3.905a21.682 21.682 0 0 1-.713.129c-.2.032-.352-.176-.273-.362a9.68 9.68 0 0 0 .244-.637l.003-.01c.248-.72.45-1.548.524-2.319C.743 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7-3.582 7-8 7a9.06 9.06 0 0 1-2.347-.306c-.52.263-1.639.742-3.468 1.105z"/>
                              </svg>
                        </div>
                        
                        </div>
                    </div>
                </div>
                    
                    {% endfor %}
                {% endfor %}
            </div>
          </div>
      </div>
      <div id="load" style="display: none;">

      </div>

      

      <script>
        let timer = function (time){
            let minutes = Math.floor(time / 60);
            let seconds = time % 60;
            if (seconds < 10) {
                seconds = "0" + seconds;
            }
            return minutes + ":" + seconds;
        }
        
        
        let images = document.querySelectorAll('.img-thumbnail');
        images.forEach(image => {
          image.addEventListener('click', () => {
            let load = document.getElementById('load');
            load.innerHTML = '';
            let closeBtn = document.createElement('button');
            let timmer = document.createElement('div');
            timmer.setAttribute("style", "position: absolute; top: 0; left: 0; background-color: #000000; color: #ffffff; padding: 5px;z-index: 1000;");
            let time =2;
        
            
            closeBtn.classList.add('btn', 'btn-danger', 'close',);
            closeBtn.setAttribute('style', 'display: block; position: absolute; top: 0; right: 0; z-index: 1000;');
            closeBtn.innerHTML = 'Close';
            closeBtn.addEventListener('click', () => {
              load.style.display = 'none';
            });
            
            

            load.setAttribute('style', 'width: 100%;height:100%; position: fixed; top:0;left: 0;transform: translate(0, 0);background-color: rgba(0,0,0,0.5);');
            load.innerHTML = `<img src="${image.src}" style="width: 100%; height: 100%; object-fit: contain;">`;
            load.append(closeBtn);
            load.append(timmer);
            let interval = setInterval(function(){
            time--;
            if(time == 0){
                load.style.display = 'none';
                id = image.id.split('image')[1];
                let imageContainer = document.getElementById('imageContainer' + id);
                imageContainer.setAttribute('style', 'background-color: rgb(232, 255, 206);');
        
                clearInterval(interval);
            }
            timmer.innerHTML = timer(time);
        }, 1000);
          })
        })
      </script>
</body>
</html>